<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            padding: 10px 30px;
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            width: 500px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0"></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass">
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="notifyText">Sorry, please try again.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/pbkdf2.js"></script>
    <script>
        /*! srcdoc-polyfill - v0.1.1 - 2013-03-01
        * http://github.com/jugglinmike/srcdoc-polyfill/
        * Copyright (c) 2013 Mike Pennisi; Licensed MIT */
        (function( window, document, undefined ) {
	
	        var idx, iframes;
	        var _srcDoc = window.srcDoc;
	        var isCompliant = !!("srcdoc" in document.createElement("iframe"));
	        var implementations = {
		        compliant: function( iframe, content ) {

			        if (content) {
				        iframe.setAttribute("srcdoc", content);
			        }
		        },
		        legacy: function( iframe, content ) {

			        var jsUrl;

			        if (!iframe || !iframe.getAttribute) {
				        return;
			        }

			        if (!content) {
				        content = iframe.getAttribute("srcdoc");
			        } else {
				        iframe.setAttribute("srcdoc", content);
			        }

			        if (content) {
				        // The value returned by a script-targeted URL will be used as
				        // the iFrame's content. Create such a URL which returns the
				        // iFrame element's `srcdoc` attribute.
				        jsUrl = "javascript: window.frameElement.getAttribute('srcdoc');";

				        iframe.setAttribute("src", jsUrl);

				        // Explicitly set the iFrame's window.location for
				        // compatability with IE9, which does not react to changes in
				        // the `src` attribute when it is a `javascript:` URL, for
				        // some reason
				        if (iframe.contentWindow) {
					        iframe.contentWindow.location = jsUrl;
				        }
			        }
		        }
	        };
	        var srcDoc = window.srcDoc = {
		        // Assume the best
		        set: implementations.compliant,
		        noConflict: function() {
			        window.srcDoc = _srcDoc;
			        return srcDoc;
		        }
	        };

	        // If the browser supports srcdoc, no shimming is necessary
	        if (isCompliant) {
		        return;
	        }

	        srcDoc.set = implementations.legacy;

	        // Automatically shim any iframes already present in the document
	        iframes = document.getElementsByTagName("iframe");
	        idx = iframes.length;

	        while (idx--) {
		        srcDoc.set( iframes[idx] );
	        }

        }( this, this.document ));
    </script>
    <script>
        var pl = {"salt":"RMNSHFzlDFojepXktRNnmBk3dTHlrDkCa/r6wWQw5EE=","iv":"CCeCVeSB539lo9j2wiLcfw==","data":"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"};
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
        }
        
        function doSubmit(evt) {
            try {
                var decrypted = decryptFile(CryptoJS.enc.Base64.parse(pl.data), passEl.value, CryptoJS.enc.Base64.parse(pl.salt), CryptoJS.enc.Base64.parse(pl.iv));
                if (decrypted === "") throw "No data returned";
                
                // Set default iframe link targets to _top so all links break out of the iframe
                decrypted = decrypted.replace("<head>", "<head><base href=\".\" target=\"_top\">");
                
                srcDoc.set(contentFrame, decrypted);
                
                successEl.style.display = "inline";
                passEl.disabled = true;
                submitPass.disabled = true;
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
        
        function decryptFile(contents, password, salt, iv) {
            var _cp = CryptoJS.lib.CipherParams.create({
                ciphertext: contents
            });
            var key = CryptoJS.PBKDF2(password, salt, { keySize: 256/32, iterations: 100 });
            var decrypted = CryptoJS.AES.decrypt(_cp, key, {iv: iv});
            
            return decrypted.toString(CryptoJS.enc.Utf8);
        }
    </script>
  <script>
            //If there is no trailing slash after the path in the url, add it
            if (!window.location.pathname.endsWith('/') && !window.location.pathname.includes(".") && !document.title.includes("404 File Not Found")) { // ick, please forgive me...
                var url = window.location.protocol + '//' +
                        window.location.host +
                        window.location.pathname + '/' +
                        window.location.search;
        
                window.history.replaceState(null, document.title, url);
            }
        </script></body>
</html>
